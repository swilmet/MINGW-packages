# Maintainer: Alexey Pavlov <alexpux@gmail.com>

_realname=hunspell-en
pkgbase=mingw-w64-${_realname}
pkgname="${MINGW_PACKAGE_PREFIX}-${_realname}"
pkgver=2019.10.06
pkgrel=2
pkgdesc="Hunspell dictionaries (mingw-w64)"
arch=('any')
url="https://wordlist.sourceforge.io/"
license=('LGPL' 'custom:scowl')
makedepends=("unzip")
optdepends=(${MINGW_PACKAGE_PREFIX}-hunspell)
source=(https://downloads.sourceforge.net/project/wordlist/speller/$pkgver/hunspell-en_US-large-$pkgver.zip
        https://downloads.sourceforge.net/project/wordlist/speller/$pkgver/hunspell-en_AU-large-$pkgver.zip
        https://downloads.sourceforge.net/project/wordlist/speller/$pkgver/hunspell-en_CA-large-$pkgver.zip
        https://downloads.sourceforge.net/project/wordlist/speller/$pkgver/hunspell-en_GB-large-$pkgver.zip)
sha256sums=('cf18cf28ec0e0b1ca0e0b99fe223860f7777e8ca5358d98343cbed010f1ff5a3'
            '7a69d0531cf0635edf7fd0b2e6dfa1131212fe377ed007d03202612addf7f3a7'
            'de40608c09d68682243e0c3da49b70adf1feba146d18bdb03df823c4b389b11a'
            '4a24d57f40366b88836c9fd900a3aacb33b4e5cc0e05aac6abdfb580ef7ee977')

build() {
  /bin/true
}

package() {
  cd "$srcdir"
  install -dm755 ${pkgdir}${MINGW_PREFIX}/share/hunspell
  install -m644 en_*.dic en_*.aff ${pkgdir}${MINGW_PREFIX}/share/hunspell

  pushd ${pkgdir}${MINGW_PREFIX}/share/hunspell/
    languages="en_US en_AU en_CA en_GB"
    for lang in $languages
    do
      mv $lang-large.aff $lang.aff
      mv $lang-large.dic $lang.dic
    done
  popd
}
